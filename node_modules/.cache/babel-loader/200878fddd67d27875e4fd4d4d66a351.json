{"remainingRequest":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/babel-loader/lib/index.js!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/booklist/booklist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/booklist/booklist.vue","mtime":1551481015793},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js","mtime":1551481012010},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/babel-loader/lib/index.js","mtime":1551481011834},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js","mtime":1551481012010},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js","mtime":1551481015436}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport book from \"@/components/booklist/bookblock.vue\";\nexport default {\n  name: \"booklist\",\n  data: function data() {\n    return {\n      bookListNum: \"\",\n      currentPage: this.$route.query.start ? this.$route.query.start : \"\",\n      sort: this.$route.query.sort ? this.$route.query.sort : \"\",\n      duration: this.$route.query.duration ? this.$route.query.duration : \"\",\n      categorylist: \"\"\n    };\n  },\n  computed: {\n    defaultSort: function defaultSort() {\n      if (this.sort == \"collectorCount\" && this.duration == \"last-seven-days\") {\n        return \"按本周热度\";\n      } else if (this.sort == \"created\" && this.duration == \"all\") {\n        return \"按发布时间\";\n      } else if (this.sort == \"collectorCount\" && this.duration == \"all\") {\n        return \"按收藏数量\";\n      }\n    }\n  },\n  components: {\n    book: book\n  },\n  methods: {\n    clickhot: function clickhot() {\n      this.sort = \"collectorCount\", this.duration = \"last-seven-days\", this.currentPage = 1;\n    },\n    clicknew: function clicknew() {\n      this.sort = \"created\", this.duration = \"all\", this.currentPage = 1;\n    },\n    clicknum: function clicknum() {\n      this.sort = \"collectorCount\", this.duration = \"all\", this.currentPage = 1;\n    },\n    //根据需要传入url的参数改变url\n    chengeurl: function chengeurl() {\n      this.$router.push({\n        push: \"/booklist\",\n        query: {\n          sort: this.sort,\n          duration: this.duration,\n          start: this.currentPage\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$axios.get(\"https://novel.juhe.im/booklists?sort=\".concat(this.sort, \"&duration=\").concat(this.duration, \"&start=\").concat(this.currentPage - 1)).then(function (response) {\n      _this.bookListNum = response.data.total;\n      _this.categorylist = response.data.bookLists;\n    });\n  },\n  watch: {\n    //监听url\n    $route: function $route() {\n      var _this2 = this;\n\n      this.$axios.get(\"https://novel.juhe.im/booklists?sort=\".concat(this.sort, \"&duration=\").concat(this.duration, \"&start=\").concat(this.currentPage - 1)).then(function (response) {\n        _this2.bookListNum = response.data.total;\n        _this2.categorylist = response.data.bookLists;\n      });\n    }\n  }\n};",{"version":3,"sources":["booklist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"booklist\">\n    <div class=\"listleft\">\n      <ul>\n        <li @click=\"clickhot(),chengeurl()\" :class=\"[defaultSort == '按本周热度'?'but':'']\">\n          <span>按本周热度</span>\n        </li>\n        <li @click=\"clicknew(),chengeurl()\" :class=\"[defaultSort == '按发布时间'?'but':'']\">\n          <span>按发布时间</span>\n        </li>\n        <li @click=\"clicknum(),chengeurl()\" :class=\"[defaultSort == '按收藏数量'?'but':'']\">\n          <span>按收藏数量</span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"listright\">\n      <div class=\"listghtmain\">\n        <p>{{defaultSort}}</p>\n        <ul>\n          <li v-for=\"list in categorylist\" :key=\"list.name\" class=\"bookb\">\n            <router-link :to=\"{path:'/bookListDetails',query:{id:list._id}}\">\n              <book :book=\"list\"></book>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n      <el-pagination\n        background\n        @current-change=\"chengeurl,chengeurl()\"\n        :current-page.sync=\"currentPage\"\n        :page-size=\"20\"\n        layout=\"prev, pager, next, jumper\"\n        :total=\"bookListNum\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport book from \"@/components/booklist/bookblock.vue\";\nexport default {\n  name: \"booklist\",\n  data() {\n    return {\n      bookListNum: \"\",\n      currentPage: this.$route.query.start ? this.$route.query.start : \"\",\n      sort: this.$route.query.sort ? this.$route.query.sort : \"\",\n      duration: this.$route.query.duration ? this.$route.query.duration : \"\",\n      categorylist: \"\"\n    };\n  },\n  computed: {\n    defaultSort: function() {\n      if (this.sort == \"collectorCount\" && this.duration == \"last-seven-days\") {\n        return \"按本周热度\";\n      } else if (this.sort == \"created\" && this.duration == \"all\") {\n        return \"按发布时间\";\n      } else if (this.sort == \"collectorCount\" && this.duration == \"all\") {\n        return \"按收藏数量\";\n      }\n    }\n  },\n  components: {\n    book\n  },\n  methods: {\n    clickhot: function() {\n      (this.sort = \"collectorCount\"),\n        (this.duration = \"last-seven-days\"),\n        (this.currentPage = 1);\n    },\n    clicknew: function() {\n      (this.sort = \"created\"), (this.duration = \"all\"), (this.currentPage = 1);\n    },\n    clicknum: function() {\n      (this.sort = \"collectorCount\"),\n        (this.duration = \"all\"),\n        (this.currentPage = 1);\n    },\n    //根据需要传入url的参数改变url\n    chengeurl: function() {\n      this.$router.push({\n        push: \"/booklist\",\n        query: {\n          sort: this.sort,\n          duration: this.duration,\n          start: this.currentPage\n        }\n      });\n    }\n  },\n  mounted() {\n    this.$axios\n      .get(\n        `https://novel.juhe.im/booklists?sort=${this.sort}&duration=${\n          this.duration\n        }&start=${this.currentPage - 1}`\n      )\n      .then(response => {\n        this.bookListNum = response.data.total;\n        this.categorylist = response.data.bookLists;\n      });\n  },\n  watch: {\n    //监听url\n    $route: function() {\n      this.$axios\n        .get(\n          `https://novel.juhe.im/booklists?sort=${this.sort}&duration=${\n            this.duration\n          }&start=${this.currentPage - 1}`\n        )\n        .then(response => {\n          this.bookListNum = response.data.total;\n          this.categorylist = response.data.bookLists;\n        });\n    }\n  }\n};\n</script>\n<style lang='less' scoped>\n.bookb {\n  box-sizing: border-box;\n  width: 410px;\n  display: inline-block;\n  padding: 15px;\n  cursor: pointer;\n}\n.booklist {\n  width: 1200px;\n  margin: 0 auto;\n  padding: 15px 0;\n}\n.listleft {\n  float: left;\n  width: 240px;\n  border-top: 5px #cab389 solid;\n  font-size: 14px;\n  li {\n    box-sizing: border-box;\n    height: 60px;\n    list-style: none;\n    color: #999;\n    border-bottom: 1px solid #ccc;\n    cursor: pointer;\n    span {\n      box-sizing: border-box;\n      display: inline-block;\n      height: 60px;\n      line-height: 60px;\n      padding: 0 30px;\n    }\n  }\n}\n.listright {\n  float: right;\n  width: 880px;\n  padding: 0 15px;\n}\n.listghtmain p {\n  width: 100%;\n  height: 60px;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listrighttitle {\n  width: 100%;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listleft .istab {\n  color: red;\n}\n.but {\n  color: @fontColor4;\n  background-color: @backgroundColor5;\n  span {\n    border-bottom: 4px solid @fontColor4;\n  }\n}\n</style>"],"sourceRoot":"src/components/booklist"}]}