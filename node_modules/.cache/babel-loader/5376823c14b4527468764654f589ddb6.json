{"remainingRequest":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/babel-loader/lib/index.js!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/ranking/ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/ranking/ranking.vue","mtime":1551481015797},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js","mtime":1551481012010},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/babel-loader/lib/index.js","mtime":1551481011834},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js","mtime":1551481012010},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js","mtime":1551481015436}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"ranking\",\n  data: function data() {\n    return {\n      currentPage: 1,\n      pagesize: 20,\n      id: this.$route.query.id ? this.$route.query.id : \"54d42d92321052167dfb75e3\",\n      booklist: \"\",\n      maleinfo: \"\",\n      femaleinfo: \"\"\n    };\n  },\n  methods: {\n    clickleft: function clickleft() {\n      this.$router.push({\n        path: \"/ranking\",\n        query: {\n          id: this.id\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$axios.get(\"https://novel.juhe.im/rank-category\").then(function (rank) {\n      _this.maleinfo = rank.data.male;\n      _this.femaleinfo = rank.data.male;\n    }), this.$axios.get(\"https://novel.juhe.im/rank/\".concat(this.id)).then(function (info) {\n      _this.booklist = info.data;\n    });\n  },\n  watch: {\n    $route: function $route() {\n      var _this2 = this;\n\n      this.id = this.$route.query.id;\n      this.$axios.get(\"https://novel.juhe.im/rank/\".concat(this.id)).then(function (info) {\n        _this2.booklist = info.data;\n      });\n    }\n  }\n};",{"version":3,"sources":["ranking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA,GACA,KAAA,MAAA,CAAA,KAAA,CAAA,EADA,GAEA,0BALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,EAAA,EAAA,KAAA;AADA;AAFA,OAAA;AAMA;AARA,GAdA;AAwBA,EAAA,OAxBA,qBAwBA;AAAA;;AACA,SAAA,MAAA,CAAA,GAAA,CAAA,qCAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA,GAIA,KAAA,MAAA,CAAA,GAAA,sCAAA,KAAA,EAAA,GAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,KAFA,CAJA;AAOA,GAhCA;AAiCA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,WAAA,EAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA,GAAA,sCAAA,KAAA,EAAA,GAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA;AANA;AAjCA,CAAA","sourcesContent":["<template>\n  <div class=\"ranking\">\n    <div class=\"left\">\n      <div\n        v-for=\"(item,index) in maleinfo\"\n        :key=\"index\"\n        @click=\"id = item._id,currentPage = 1,clickleft()\"\n        :class=\"[id == item._id ? 'isbut' : '']\"\n      >\n        <span>{{item.title}}</span>\n      </div>\n    </div>\n    <div class=\"right\" v-if=\"booklist\">\n      <div class=\"title\">{{booklist.ranking.title}}</div>\n      <div>\n        <div\n          v-for=\"(item,index) in booklist.ranking.books.slice((currentPage - 1) * pagesize,\n        currentPage * pagesize)\"\n          :key=\"index\"\n          class=\"book\"\n        >\n          <router-link tag=\"a\" target=\"_blank\" :to=\"{path:'/book',query:{id:item._id}}\">\n            <div class=\"bookImg\">\n              <img :src=\"`http://statics.zhuishushenqi.com${item.cover}`\">\n            </div>\n            <div class=\"bookinfo\">\n              <p class=\"bookname\">{{item.title}}</p>\n              <p class=\"author\">{{item.author}}</p>\n              <p class=\"brief\">{{item.shortIntro}}</p>\n              <p class=\"popular\">\n                <span>{{item.latelyFollower}}</span>人气\n                <span class=\"shu\">|</span>\n                <span>{{item.retentionRatio}}%</span>读者存留\n              </p>\n            </div>\n          </router-link>\n        </div>\n      </div>\n      <el-pagination\n        class=\"pagination\"\n        :current-page.sync=\"currentPage\"\n        :page-size=\"20\"\n        layout=\"prev, pager, next, jumper\"\n        :total=\"booklist.ranking.books.length\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ranking\",\n  data() {\n    return {\n      currentPage: 1,\n      pagesize: 20,\n      id: this.$route.query.id\n        ? this.$route.query.id\n        : \"54d42d92321052167dfb75e3\",\n      booklist: \"\",\n      maleinfo: \"\",\n      femaleinfo: \"\"\n    };\n  },\n  methods: {\n    clickleft: function() {\n      this.$router.push({\n        path: \"/ranking\",\n        query: {\n          id: this.id\n        }\n      });\n    }\n  },\n  mounted() {\n    this.$axios.get(\"https://novel.juhe.im/rank-category\").then(rank => {\n      this.maleinfo = rank.data.male;\n      this.femaleinfo = rank.data.male;\n    }),\n      this.$axios.get(`https://novel.juhe.im/rank/${this.id}`).then(info => {\n        this.booklist = info.data;\n      });\n  },\n  watch: {\n    $route: function() {\n      this.id = this.$route.query.id;\n      this.$axios.get(`https://novel.juhe.im/rank/${this.id}`).then(info => {\n        this.booklist = info.data;\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ranking {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  width: 1200px;\n  margin: 0 auto;\n  margin-top: 15px;\n  .left {\n    width: 240px;\n    div {\n      border-bottom: 1px solid @borderC3;\n      box-sizing: border-box;\n      list-style: none;\n      color: @fontColor2;\n      cursor: pointer;\n      span {\n        box-sizing: border-box;\n        display: inline-block;\n        font-size: 14px;\n        height: 60px;\n        line-height: 60px;\n        padding: 0 30px;\n      }\n    }\n  }\n  .right {\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: left;\n    align-items: center;\n    width: 900px;\n    background-color: @backgroundColor4;\n    .title {\n      width: 900px;\n      box-sizing: border-box;\n      line-height: 60px;\n      font-size: 22px;\n      font-weight: 700;\n      color: #cab389;\n      padding-left: 15px;\n    }\n    .pagination {\n      margin: 20px 0;\n    }\n  }\n}\n.isbut {\n  color: @fontColor4;\n  background-color: @backgroundColor5;\n  span {\n    border-bottom: 4px solid @fontColor4;\n  }\n}\n.book {\n  box-sizing: border-box;\n  width: 410px;\n  display: inline-block;\n  padding: 15px;\n  .bookImg {\n    float: left;\n    height: 120px;\n    width: 90px;\n    img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n  .bookinfo {\n    height: 120px;\n    margin-left: 15px;\n    float: left;\n    width: 275px;\n    .bookname {\n      color: #333;\n      font-weight: 700;\n      font-size: 14px;\n      line-height: 22px;\n    }\n    .author,\n    .brief,\n    .popular {\n      font-size: 12px;\n      color: #999;\n    }\n    .author {\n      line-height: 28px;\n    }\n    .brief {\n      height: 40px;\n      line-height: 20px;\n      margin: 5px 0;\n      box-orient: vertical;\n      line-clamp: 2;\n      overflow: hidden;\n    }\n    .popular {\n      line-height: 20px;\n      span {\n        color: @fontColor3;\n      }\n      .shu {\n        padding: 0 15px;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/ranking"}]}