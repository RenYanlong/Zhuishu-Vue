{"remainingRequest":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/booklist/booklist.vue?vue&type=style&index=0&id=6313f9af&lang=less&scoped=true&","dependencies":[{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/src/components/booklist/booklist.vue","mtime":1551778118927},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/css-loader/index.js","mtime":1551481012635},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1551481015436},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/postcss-loader/src/index.js","mtime":1551481014416},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/less-loader/dist/cjs.js","mtime":1551481013611},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/style-resources-loader/lib/index.js","mtime":1551481015149},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/cache-loader/dist/cjs.js","mtime":1551481012010},{"path":"/Users/renyl/Documents/GitHub/zhuishushenqi-Demo/node_modules/vue-loader/lib/index.js","mtime":1551481015436}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bookb {\n  box-sizing: border-box;\n  width: 410px;\n  display: inline-block;\n  padding: 15px;\n  cursor: pointer;\n}\n.booklist {\n  width: 1200px;\n  margin: 0 auto;\n  padding: 15px 0;\n}\n.listleft {\n  float: left;\n  width: 240px;\n  border-top: 5px #cab389 solid;\n  font-size: 14px;\n  li {\n    box-sizing: border-box;\n    height: 60px;\n    list-style: none;\n    color: #999;\n    border-bottom: 1px solid #ccc;\n    cursor: pointer;\n    span {\n      box-sizing: border-box;\n      display: inline-block;\n      height: 60px;\n      line-height: 60px;\n      padding: 0 30px;\n    }\n  }\n}\n.listright {\n  float: right;\n  width: 880px;\n  padding: 0 15px;\n}\n.listghtmain p {\n  width: 100%;\n  height: 60px;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listrighttitle {\n  width: 100%;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listleft .istab {\n  color: red;\n}\n.but {\n  color: @fontColor4;\n  background-color: @backgroundColor5;\n  span {\n    border-bottom: 4px solid @fontColor4;\n  }\n}\n",{"version":3,"sources":["booklist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"booklist.vue","sourceRoot":"src/components/booklist","sourcesContent":["<template>\n  <div class=\"booklist\">\n    <div class=\"listleft\">\n      <ul>\n        <li @click=\"clickhot(),chengeurl()\" :class=\"[defaultSort == '按本周热度'?'but':'']\">\n          <span>按本周热度</span>\n        </li>\n        <li @click=\"clicknew(),chengeurl()\" :class=\"[defaultSort == '按发布时间'?'but':'']\">\n          <span>按发布时间</span>\n        </li>\n        <li @click=\"clicknum(),chengeurl()\" :class=\"[defaultSort == '按收藏数量'?'but':'']\">\n          <span>按收藏数量</span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"listright\">\n      <div class=\"listghtmain\">\n        <p>{{defaultSort}}</p>\n        <ul>\n          <li v-for=\"list in categorylist\" :key=\"list.name\" class=\"bookb\">\n            <router-link :to=\"{path:'/bookListDetails',query:{id:list._id}}\">\n              <book :book=\"list\"></book>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n      <el-pagination\n        background\n        @current-change=\"chengeurl,chengeurl()\"\n        :current-page.sync=\"currentPage\"\n        :page-size=\"20\"\n        layout=\"prev, pager, next, jumper\"\n        :total=\"bookListNum\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport book from \"@/components/booklist/bookblock.vue\";\nexport default {\n  name: \"booklist\",\n  data() {\n    return {\n      bookListNum: \"\",\n      currentPage: this.$route.query.start ? this.$route.query.start : \"\",\n      sort: this.$route.query.sort ? this.$route.query.sort : \"\",\n      duration: this.$route.query.duration ? this.$route.query.duration : \"\",\n      categorylist: \"\"\n    };\n  },\n  computed: {\n    defaultSort: function() {\n      if (this.sort == \"collectorCount\" && this.duration == \"last-seven-days\") {\n        return \"按本周热度\";\n      } else if (this.sort == \"created\" && this.duration == \"all\") {\n        return \"按发布时间\";\n      } else if (this.sort == \"collectorCount\" && this.duration == \"all\") {\n        return \"按收藏数量\";\n      }\n    }\n  },\n  components: {\n    book\n  },\n  methods: {\n    clickhot: function() {\n      (this.sort = \"collectorCount\"),\n        (this.duration = \"last-seven-days\"),\n        (this.currentPage = 1);\n    },\n    clicknew: function() {\n      (this.sort = \"created\"), (this.duration = \"all\"), (this.currentPage = 1);\n    },\n    clicknum: function() {\n      (this.sort = \"collectorCount\"),\n        (this.duration = \"all\"),\n        (this.currentPage = 1);\n    },\n    //根据需要传入url的参数改变url\n    chengeurl: function() {\n      this.$router.push({\n        push: \"/booklist\",\n        query: {\n          sort: this.sort,\n          duration: this.duration,\n          start: this.currentPage\n        }\n      });\n    }\n  },\n  mounted() {\n    this.$axios\n      .get(\n        `https://novel.juhe.im/booklists?sort=${this.sort}&duration=${\n          this.duration\n        }&start=${this.currentPage - 1}`\n      )\n      .then(response => {\n        this.bookListNum = response.data.total;\n        this.categorylist = response.data.bookLists;\n      });\n  },\n  watch: {\n    //监听url\n    $route: function() {\n      this.$axios\n        .get(\n          `https://novel.juhe.im/booklists?sort=${this.sort}&duration=${\n            this.duration\n          }&start=${this.currentPage - 1}`\n        )\n        .then(response => {\n          this.bookListNum = response.data.total;\n          this.categorylist = response.data.bookLists;\n        });\n    }\n  }\n};\n</script>\n<style lang='less' scoped>\n.bookb {\n  box-sizing: border-box;\n  width: 410px;\n  display: inline-block;\n  padding: 15px;\n  cursor: pointer;\n}\n.booklist {\n  width: 1200px;\n  margin: 0 auto;\n  padding: 15px 0;\n}\n.listleft {\n  float: left;\n  width: 240px;\n  border-top: 5px #cab389 solid;\n  font-size: 14px;\n  li {\n    box-sizing: border-box;\n    height: 60px;\n    list-style: none;\n    color: #999;\n    border-bottom: 1px solid #ccc;\n    cursor: pointer;\n    span {\n      box-sizing: border-box;\n      display: inline-block;\n      height: 60px;\n      line-height: 60px;\n      padding: 0 30px;\n    }\n  }\n}\n.listright {\n  float: right;\n  width: 880px;\n  padding: 0 15px;\n}\n.listghtmain p {\n  width: 100%;\n  height: 60px;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listrighttitle {\n  width: 100%;\n  line-height: 60px;\n  font-size: 22px;\n  font-weight: 700;\n  color: #cab389;\n}\n.listleft .istab {\n  color: red;\n}\n.but {\n  color: @fontColor4;\n  background-color: @backgroundColor5;\n  span {\n    border-bottom: 4px solid @fontColor4;\n  }\n}\n</style>"]}]}